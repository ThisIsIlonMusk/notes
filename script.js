function Encrypt(t){for(var e=""+t,a="",n=0;n<e.length;n++)a+="a"+e.charCodeAt(n);return a}function Decode(t){for(var e=t+"a",a="",n="",o=1;o<e.length;o++)"a"==e[o]?(a+=String.fromCharCode(parseInt(n)),n=""):n+=e[o];return a}function FixedHTML(t){for(var e=""+t,a="",n=0;n<e.length;n++)"<"==e[n]?a+="&lt;":">"==e[n]?a+="&gt;":"\n"==e[n]?a+="<br>":" "==e[n]?0<a.length&&" "==a[a.length-1]?a+="&nbsp":a+=" ":a+="\t"==e[n]?"&nbsp; &nbsp; ":e[n];return a}const firebaseConfig={apiKey:"AIzaSyC_JIlM5bZDfRGeadRYI8iptUzwE4zt53g",authDomain:"mono-notes.firebaseapp.com",databaseURL:"https://mono-notes-default-rtdb.firebaseio.com",projectId:"mono-notes",storageBucket:"mono-notes.appspot.com",messagingSenderId:"826700145254",appId:"1:826700145254:web:4306ecdf0a86b9f64883a7"};firebase.initializeApp(firebaseConfig);var datacount=0;function UpdateDatacount(){firebase.database().ref("config/datacount").on("value",t=>{t=t.val();datacount=parseInt(t)})}function UpdateDatalist(){UpdateDatacount(),firebase.database().ref().on("value",t=>{for(var e=t.val(),a="",n=1,o=1;o<=datacount;o++)null!=e["data"+o]&&null!=e["data"+o]&&(a+="<tr><td>"+n+"</td><td>"+o+"</td><td>"+FixedHTML(Decode(e["data"+o].title))+'</td><td><button class="btn btn-primary" data-toggle="modal" data-target="#ShowNote" onclick="UpdateModalData(\''+e["data"+o].title+"', '"+e["data"+o].content+'\')">Show</button></td><td><button class="btn btn-danger" onclick="RemoveNote('+o+')">Remove</button></td></tr>',n++);document.getElementById("id_table_body").innerHTML=a})}function UpdateModalData(t,e){document.getElementById("id_note_title").innerHTML=FixedHTML(Decode(t)),document.getElementById("id_note_content").innerHTML=FixedHTML(Decode(e))}function RemoveNote(t){firebase.database().ref("data"+t).remove(),UpdateDatalist()}UpdateDatacount(),UpdateDatalist(),document.getElementById("btn_add_note").onclick=function(){""!=document.getElementById("new_note_title").value?""!=document.getElementById("new_note_content").value?(UpdateDatacount(),firebase.database().ref("data"+(parseInt(datacount)+1)).set({title:Encrypt(document.getElementById("new_note_title").value),content:Encrypt(document.getElementById("new_note_content").value)}),firebase.database().ref("config").set({datacount:parseInt(datacount)+1}),UpdateDatacount(),UpdateDatalist()):alert("Content shoul not be empty!"):alert("Title shoul not be empty!")};
